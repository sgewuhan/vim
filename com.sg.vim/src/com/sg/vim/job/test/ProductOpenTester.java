package com.sg.vim.job.test;

import org.eclipse.core.expressions.PropertyTester;

import com.mongodb.DBObject;
import com.sg.vim.datamodel.IVIMFields;

public class ProductOpenTester extends PropertyTester {

    public ProductOpenTester() {
    }

    @Override
    public boolean test(Object receiver, String property, Object[] args, Object expectedValue) {
        if (receiver instanceof DBObject) {
            if (args != null && args.length > 0) {
                DBObject data = (DBObject)receiver;
                Object cocinfo_id = data.get(IVIMFields.COC_ID);
                Object cocinfo_id2 = data.get(IVIMFields.COC_ID2);
                Object cfginfo_id = data.get(IVIMFields.CFG_ID);
                
                if (args[0].equals("conf")) {
                    return cfginfo_id!=null;
                } else if (args[0].equals("coc1")) {
                    return cocinfo_id!=null;
                } else if (args[0].equals("coc2")) {
                    return cocinfo_id2!=null;
                } else if (args[0].equals("basic")) {
                    return true;
                }
            }
        }
        return false;
    }

}
